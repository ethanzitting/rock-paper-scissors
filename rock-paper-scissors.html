<!DOCTYPE html>
<html>
	<head>
		<title>Title</title>
		<script>
		    // Generates the computer's hand
			function computerPlay() {
				computerHand = Math.random() * 3;
				let computerSign;

				// Turns random number into hand
				if (computerHand > 2) {
					computerSign = "rock";
				} else if (computerHand > 1) {
					computerSign = "scissors";
				} else {
					computerSign = "paper";
				}

				return computerSign;
			}

			// Prompts user for their hand.
			function userPlay() {
				let userSign = prompt("Choose your weapon.");
				userSign = userSign.toLowerCase();

				return userSign;
			}

			function checkWinner(userSign, computerSign) {
				// This goes through all the 9 combinations of hands and determines the winner.
				if (userSign === "rock") {
					if (computerSign === "scissors") {
						return "user";
					} else if (computerSign === "paper") {
						return "computer";
					} else {
						return "tie";
					}
				} else if (userSign === "scissors") {
					if (computerSign === "rock") {
						return "computer";
					} else if (computerSign === "paper") {
						return "user";
					} else {
						return "tie";
					}
				} else {
					if (userSign === "paper") {
						if (computerSign === "rock") {
							return "user";
						} else if (computerSign === "paper") {
							return "tie";
						} else {
							return "computer";
						}
					}
				}
			}

			// Pits the computer's hand against the user's hand.
			function singleMatch() {
				// Generates hands of two players.
				let computerSign = computerPlay();
				let userSign = userPlay();
				
				// Calculates the winner
				let winner = checkWinner(userSign, computerSign);
				
				// Generates and returns the proper result sentence.
				if (winner === "user") {
					return `You Win! ${userSign} beats ${computerSign}!`;
				} else if (winner === "computer") {
					return `You Lose! ${userSign} loses to ${computerSign}!`;
				} else {
					return `It's a tie! You both chose ${userSign}!`;
				}
			}
			
			// Automatically plays 5 games in a row.
			function game() {
				let userTotal = 0;
				let computerTotal = 0;

				// for loop driving the 5 games
				for (i = 0; i < 5; i++) {
					// Calls a game
					let results = singleMatch();
					console.log(results);

					// Checks results
					if (results[4] === "W") {
						userTotal++;
					} else if (results[4] === "L") {
						computerTotal++;
					}
				}

				console.log(`Your score was ${userTotal} and the computer's score was ${computerTotal}`);
			}

			game();
		</script>
	</head>
	<body>

	</body>
</html>